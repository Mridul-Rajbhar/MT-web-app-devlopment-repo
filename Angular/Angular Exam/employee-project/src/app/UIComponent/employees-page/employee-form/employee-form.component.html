<form #employeeForm="ngForm" (ngSubmit)="onSubmit();">
    <div [hidden]="submitted">

        <div class="form-group">
            <label for="employeeId">Employee ID</label>
            <input type="text" class="form-control" id="employeeId"
            [(ngModel)]="employeeIdInput" name="employeeId" #employeeId="ngModel"
            required maxlength="5" pattern="[0-9]*" [employeeNotUniqueId]="getEmployeesInput()">
            <div [hidden]="employeeId.valid"
            class="alert alert-danger">
                <div *ngIf="employeeId.errors?.['required']">
                    Employee Id is required
                </div>
                <div *ngIf="employeeId.errors?.['maxlength']">
                    Maxlength is 5
                </div>
                <div *ngIf="employeeId.errors?.['pattern']">
                    Only Numbers Allowed
                </div>
                <div *ngIf="employeeId.errors?.['employeeNotUniqueId']">
                    Employee Id already taken
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" class="form-control" id="firstName"
            [(ngModel)]="employeeInput.firstName" name="firstName" 
            #firstName="ngModel" required  minlength="3" maxlength="15"
            pattern="[a-zA-Z]*">
            <div [hidden]="firstName.valid"
            class="alert alert-danger">
                <div *ngIf="firstName.errors?.['required']">
                    FirstName is required
                </div>
                <div *ngIf="firstName.errors?.['minlength']">
                    Minimum Length must be 3
                </div>
                <div *ngIf="firstName.errors?.['pattern']">
                    Only alphabets Allowed
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" class="form-control" id="lastName"
            [(ngModel)]="employeeInput.lastName" name="lastName" 
            #lastName = "ngModel"
            required minlength="3" maxlength="15" pattern="[a-zA-Z]*">
            <div [hidden]="lastName.valid"
            class="alert alert-danger">
                <div *ngIf="lastName.errors?.['required']">
                    LastName is required
                </div>
                <div *ngIf="lastName.errors?.['minlength']">
                    Minimum Length must be 3
                </div>
                <div *ngIf="lastName.errors?.['pattern']">
                    Only alphabets allowed
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="dateOfJoining">Date Of Joining</label>
            <input type="date" class="form-control" id="dateOfJoining"
            [(ngModel)]="employeeInput.dateOfJoining" name="dateOfJoining" 
            #dateOfJoining = "ngModel"
            required>
            <div [hidden]="dateOfJoining.valid"
            class="alert alert-danger">
                <div *ngIf="dateOfJoining.errors?.['required']">
                    Date Of Joining is required
                </div>
            </div>
        </div>

        
        <div class="form-check">
            Select Gender:
            <label for="gender">Male</label> 
            <input type="radio" name="gender" 
            [(ngModel)]="employeeInput.gender" #gender="ngModel" value="male" id="male" required
            [ngStyle]="{'margin-right.px':'10'}"> 
        <!-- </div>
        <div class="form-check"> -->
            <label for="gender">Female</label> 
            <input type="radio" name="gender"
            [(ngModel)]="employeeInput.gender" #gender="ngModel"
            value="female" id="female">
        </div>
        <div [hidden]="gender.valid"
        class="alert alert-danger">
            <div *ngIf="gender.errors?.['required']">
                Gender is required
            </div>
        </div>

        <div class="form-group">
            <label for="projectAssigned">Project Assigned</label>
            <input type="text" class="form-control" id="projectAssigned"
            [(ngModel)]="employeeInput.projectAssigned" name="projectAssigned" 
            #projectAssigned = "ngModel"
            required minlength="3" maxlength="20">
            <div [hidden]="projectAssigned.valid"
            class="alert alert-danger">
                <div *ngIf="projectAssigned.errors?.['required']">
                    Project Assigned is required
                </div>
                <div *ngIf="projectAssigned.errors?.['minlength']">
                    Minimum Length must be 3
                </div>
                <div *ngIf="projectAssigned.errors?.['maxlength']">
                    Maximum length must be 20
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-success"
        [disabled]="!employeeForm.form.valid">
            Submit
        </button>
    </div>

    <!-- <p>
        {{employeeInput | json}}
    </p> -->
</form>
<div [hidden]="!submitted">
    <p class="form-message text-uppercase"> Form data submitted successfully</p>
    <p>Employee Id: {{ employeeIdInput }}</p>
    <p>Employee Name: {{ employeeInput.firstName + " " + employeeInput.lastName }}</p>
    <p>Date Of Joining: {{ employeeInput.dateOfJoining }}</p>
    <p>Gender: {{ employeeInput.gender }}</p>
    <p>Project Assigned: {{ employeeInput.projectAssigned }}</p>
    <button class="btn btn-primary" (click)="submitted=false; employeeForm.reset();">Fill another form</button>
</div>
